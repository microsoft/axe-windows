<Project DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003"> 
  
  <!--
  Settings file which is directly included imported all of the shipping code projects in the repo.
  -->

  <Import Project="delaysign.targets" />

  <!--
  Files can be digitally or StrongName signed, not both (for now, at least).
  -->
  <Choose>
    <When Condition=" '$(SignAppForRelease)'=='true' AND '$(Configuration)' == 'Release' ">
      <Choose>
        <When Condition=" '$(AxeDigitalSign)' == 'true' ">
          <PropertyGroup>
            <SignAssembly>true</SignAssembly>
            <DelaySign>true</DelaySign>
          </PropertyGroup>
        </When>
        <Otherwise>
          <PropertyGroup>
            <DefineConstants>$(DefineConstants);ENABLE_SIGNING;</DefineConstants>
            <AssemblyOriginatorKeyFile>..\..\keys\FinalPublicKey.snk</AssemblyOriginatorKeyFile>
            <DelaySign>true</DelaySign>
          </PropertyGroup>
        </Otherwise>
      </Choose>
    </When>
  </Choose>

</Project>